document.body.classList.remove("no-js");const headerTopElement=document.querySelector(".js-header__top"),menuListHeaderElement=document.querySelector(".js-header__nav"),menuListFooterElement=document.querySelector(".js-footer__nav"),btnBurgerElement=document.querySelector(".js-header__button"),navLinksElement=document.querySelectorAll(".js-nav__link"),navLinksArray=Array.from(navLinksElement),sectionSkillsElement=document.getElementById("js-skills"),sectionPortfolioElement=document.getElementById("js-portfolio"),sectionPricesElement=document.getElementById("js-prices");function onBtnShowMenuElemClick(){document.body.addEventListener("click",onBodyClickForCloseMenu);const e=event.target.getAttribute("aria-expanded");headerTopElement.classList.toggle("menu-open"),"true"===e&&(btnBurgerElement.setAttribute("aria-label","Показать меню"),btnBurgerElement.setAttribute("aria-expanded","false")),"false"===e&&(btnBurgerElement.setAttribute("aria-label","Скрыть меню"),btnBurgerElement.setAttribute("aria-expanded","true"))}function onBodyClickForCloseMenu(){if("keydown"===event.type&&27===event.keyCode)btnBurgerElement.closest(".js-header__top").classList.remove("nav-open"),btnBurgerElement.setAttribute("aria-label","Показать меню"),btnBurgerElement.setAttribute("aria-expanded","false"),document.body.removeEventListener("click",onBodyClickForCloseMenu);else if("click"===event.type&&event.target!==menuListHeaderElement){const e=btnBurgerElement.getAttribute("aria-expanded");headerTopElement.classList.toggle("nav-open"),headerTopElement.classList.contains("nav-open")||("true"===e&&(btnBurgerElement.setAttribute("aria-label","Показать меню"),btnBurgerElement.setAttribute("aria-expanded","false"),document.body.removeEventListener("click",onBodyClickForCloseMenu)),"false"===e&&(btnBurgerElement.setAttribute("aria-label","Скрыть меню"),btnBurgerElement.setAttribute("aria-expanded","true"),document.body.removeEventListener("click",onBodyClickForCloseMenu),console.log("Скрыть меню")))}}function handleLinkClick(e){let t;e.preventDefault(),"Услуги"===e.target.textContent?(t=sectionSkillsElement.offsetTop,e.target.classList.add("nav__link--active")):"Портфолио"===e.target.textContent?(t=sectionPortfolioElement.offsetTop,e.target.classList.add("nav__link--active")):"Стоимость"===e.target.textContent&&(t=sectionPricesElement.offsetTop,e.target.classList.add("nav__link--active"));const l={top:t,behavior:"smooth"};window.scrollTo(l),navLinksArray.forEach((function(t,l,o){o[l]!==e.target&&o[l].classList.remove("nav__link--active")}))}btnBurgerElement.addEventListener("click",onBtnShowMenuElemClick),document.addEventListener("keydown",onBodyClickForCloseMenu),menuListHeaderElement.addEventListener("click",handleLinkClick),menuListFooterElement.addEventListener("click",handleLinkClick);const modals=document.querySelectorAll(".modal"),modalSuccess=document.querySelector(".js-modal-success"),modalOverlay=document.querySelector(".js-modal-overlay"),btnsClose=document.querySelectorAll(".js-btn-closed"),btnsCloseModal=Array.from(btnsClose),btnSubmitFormModal=document.querySelectorAll(".js-btn-submit"),btnsSubmitModal=Array.from(btnSubmitFormModal),btns=document.querySelectorAll(".js-btn"),btnsOpenModal=Array.from(btns);function showModal(){document.body.addEventListener("click",onBodyClickForCloseModal),document.addEventListener("keydown",onBodyClickForCloseModal);let e="";e=event.target.classList.contains("js-btn-call")?modals[1]:modals[0],e.setAttribute("aria-hidden","false"),e.classList.remove("hide"),e.classList.add("show"),e.children[3].elements.fullName.focus(),modalOverlay.classList.remove("hide"),modalOverlay.classList.add("show"),document.body.classList.add("modal-active")}function onBodyClickForCloseModal(){if(event.target===modalOverlay||27===event.keyCode){let e="";for(i=0;i<modals.length;i++)modals[i].classList.contains("show")&&(e=modals[i]);e.setAttribute("aria-hidden","true"),e.classList.remove("show"),e.classList.add("hide"),modalOverlay.classList.remove("show"),modalOverlay.classList.add("hide"),document.body.classList.remove("modal-active")}}function closeModal(){const e=event.target.closest(".modal");e.setAttribute("aria-hidden","true"),e.classList.remove("show"),e.classList.add("hide"),modalSuccess.setAttribute("aria-hidden","true"),modalSuccess.classList.remove("show"),modalSuccess.classList.add("hide"),modalOverlay.classList.remove("show"),modalOverlay.classList.add("hide"),e.children[3].reset(),document.body.classList.remove("modal-active")}function showModalSuccess(){modalSuccess.setAttribute("aria-hidden","false"),modalSuccess.classList.add("show"),modalSuccess.classList.remove("hide"),modalOverlay.classList.remove("hide"),modalOverlay.classList.add("show")}btnsOpenModal.forEach((function(e,t,l){e.addEventListener("click",showModal)})),btnsCloseModal.forEach((function(e,t,l){e.addEventListener("click",closeModal)}));const inputTel=document.querySelectorAll('input[type="tel"]'),inputMaskTel=new Inputmask("+7 (999) 999-99-99");inputMaskTel.mask(inputTel[0]),inputMaskTel.mask(inputTel[1]),new window.JustValidate(".modal__form",{rules:{fullName:{required:!0,minLength:3},email:{required:!0,email:!0}},messages:{fullName:{minLength:"Это поле должно содержать минимум :value символа",required:"Поле обязательно для заполнения!"},email:"Пожалуйста, введите действительный email"},colorWrong:"#fc557c",submitHandler:function(e,t,l){let o=new FormData(e);fetch("mail.php",{method:"POST",body:o}).then((function(t){console.log("Отправлено"),btnSubmitFormModal[0].addEventListener("click",closeModal),e.reset(),showModalSuccess(),modal.classList.remove("show"),modal.classList.add("hide")}))}}),new window.JustValidate(".modal__form--call",{rules:{fullName:{required:!0,minLength:3},tel:{required:!0},email:{required:!1,email:!1}},messages:{fullName:{minLength:"Это поле должно содержать минимум :value символа",required:"Поле обязательно для заполнения!"},tel:{required:"Поле обязательно для заполнения!"}},colorWrong:"#fc557c",submitHandler:function(e,t,l){let o=new FormData(e);fetch("mail.php",{method:"POST",body:o}).then((function(t){btnSubmitFormModal[1].addEventListener("click",closeModal),e.reset(),showModalSuccess(),modalCall.classList.remove("show"),modalCall.classList.add("hide")}))}});