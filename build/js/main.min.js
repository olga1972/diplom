document.body.classList.remove("no-js");const menuListHeaderElement=document.querySelector(".js-header__nav"),menuListFooterElement=document.querySelector(".js-footer__nav"),btnBurgerElement=document.querySelector(".js-header__button"),sectionSkillsElement=document.getElementById("js-skills"),sectionPortfolioElement=document.getElementById("js-portfolio"),sectionPricesElement=document.getElementById("js-prices"),navLinksElement=document.querySelectorAll(".js-nav__link"),navLinksArray=Array.from(navLinksElement);function onBtnShowMenuElemClick(){const e=btnBurgerElement.getAttribute("aria-expanded");btnBurgerElement.closest(".js-header__top").classList.toggle("nav-open"),"true"===e&&(btnBurgerElement.setAttribute("aria-label","Показать меню"),btnBurgerElement.setAttribute("aria-expanded","false")),"false"===e&&(btnBurgerElement.setAttribute("aria-label","Скрыть меню"),btnBurgerElement.setAttribute("aria-expanded","true"))}function handleLinkClick(e){let t;e.preventDefault(),"Услуги"===e.target.textContent?(t=sectionSkillsElement.offsetTop,e.target.classList.add("nav__link--active")):"Портфолио"===e.target.textContent?(t=sectionPortfolioElement.offsetTop,e.target.classList.add("nav__link--active")):"Стоимость"===e.target.textContent&&(t=sectionPricesElement.offsetTop,e.target.classList.add("nav__link--active"));const l={top:t,behavior:"smooth"};window.scrollTo(l),navLinksArray.forEach((function(t,l,s){s[l]!==e.target&&s[l].classList.remove("nav__link--active")}))}btnBurgerElement.addEventListener("click",onBtnShowMenuElemClick),menuListHeaderElement.addEventListener("click",handleLinkClick),menuListFooterElement.addEventListener("click",handleLinkClick);const modal=document.querySelector(".js-modal"),modalCall=document.querySelector(".js-modal-call"),modalForm=document.querySelector(".modal__form"),modalFormCall=document.querySelector(".modal__form--call"),modalSuccess=document.querySelector("#modal-success"),modalOverlay=document.querySelector("#modal-overlay"),btnsClose=document.querySelectorAll(".js-btn-closed"),btnsCloseModal=Array.from(btnsClose),btnSubmitFormModal=document.querySelectorAll(".js-btn-submit"),btnsSubmitModal=Array.from(btnSubmitFormModal),btns=document.querySelectorAll(".js-btn"),btnsOpenModal=Array.from(btns);function showModal(e){e.target.classList.contains("js-btn-call")?(modalCall.setAttribute("aria-hidden","false"),modalCall.classList.remove("hide"),modalCall.classList.add("show"),setTimeout((function(){document.querySelectorAll(".js-name")[1].focus()}),1e3)):(modal.setAttribute("aria-hidden","false"),modal.classList.remove("hide"),modal.classList.add("show"),setTimeout((function(){document.querySelectorAll(".js-name")[0].focus()}),1e3)),modalOverlay.classList.remove("hide"),modalOverlay.classList.add("show"),document.body.classList.add("modal-active")}function closeModal(e){const t=e.target.closest(".modal");t.setAttribute("aria-hidden","true"),t.classList.remove("show"),t.classList.add("hide"),modalSuccess.setAttribute("aria-hidden","true"),modalSuccess.classList.remove("show"),modalSuccess.classList.add("hide"),modalOverlay.classList.remove("show"),modalOverlay.classList.add("hide"),document.body.classList.remove("modal-active")}function showModalSuccess(){modalSuccess.setAttribute("aria-hidden","false"),modalSuccess.classList.add("show"),modalSuccess.classList.remove("hide"),modalOverlay.classList.remove("hide"),modalOverlay.classList.add("show")}btnsOpenModal.forEach((function(e,t,l){e.addEventListener("click",showModal)})),btnsCloseModal.forEach((function(e,t,l){e.addEventListener("click",closeModal)}));const inputTel=document.querySelector('input[type="tel"]'),inputMaskTel=new Inputmask("+7 (999) 999-99-99");inputMaskTel.mask(inputTel),new window.JustValidate(".modal__form",{rules:{fullName:{required:!0,minLength:3},email:{required:!0,email:!0}},messages:{fullName:{minLength:"Это поле должно содержать минимум :value символа",required:"Поле обязательно для заполнения!"},email:"Пожалуйста, введите действительный email"},colorWrong:"#fc557c",submitHandler:function(e,t,l){let s=new FormData(e);fetch("mail.php",{method:"POST",body:s}).then((function(t){console.log("Отправлено"),btnSubmitFormModal[0].addEventListener("click",closeModal),e.reset(),showModalSuccess(),modal.classList.remove("show"),modal.classList.add("hide")}))}}),new window.JustValidate(".modal__form--call",{rules:{fullName:{required:!0,minLength:3},tel:{required:!0},email:{required:!1,email:!1}},messages:{fullName:{minLength:"Это поле должно содержать минимум :value символа",required:"Поле обязательно для заполнения!"},tel:{required:"Поле обязательно для заполнения!"}},colorWrong:"#fc557c",submitHandler:function(e,t,l){let s=new FormData(e);fetch("mail.php",{method:"POST",body:s}).then((function(t){btnSubmitFormModal[1].addEventListener("click",closeModal),e.reset(),showModalSuccess(),modalCall.classList.remove("show"),modalCall.classList.add("hide")}))}}),new Swiper(document.querySelector(".swiper-container"),{slidesPerView:1,spaceBetween:30,loop:!0,slideToClickedSlide:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1025:{slidesPerView:2,spaceBetween:35},1201:{slidesPerView:3}}});